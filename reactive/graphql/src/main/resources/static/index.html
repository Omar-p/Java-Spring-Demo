<html>
<head>
    <title>GraphQL</title>
    <script type="text/javascript" src="https://unpkg.com/graphql-ws/umd/graphql-ws.js"></script>
</head>
<body>
<script>
    class Graphql {
        constructor(url) {
            this.client = graphqlWs.createClient({
                url: url,
                lazy: true
            });
        }

        subscribe(q, cb) {
            this.client.subscribe({
                query: q,
                operationName: null,
                variables: null
            }, {
                next: cb,
                error: (err) => console.error(err),
                complete: () => console.log('closed')
            });
        }
    }

</script>
</body>
</html>